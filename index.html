<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Star Wars</title>
	<!-- Add unique stylesheet -->
	<link href="assets/css/starwars_style.css" rel="stylesheet" type="text/css">
	<!-- Add Font Awesome -->
	<link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">
	<!-- Add Google Web Font -->
	<link href='https://fonts.googleapis.com/css?family=Poppins:400,300,500,600,700' rel='stylesheet' type='text/css'>

	<script 
	src="https://code.jquery.com/jquery-3.1.0.js"   
	integrity="sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk="   
	crossorigin="anonymous">	
	</script>
		
	<script>
	// set initial variables
	var wins = 0; // track of how many fights the user has won
	var losses = 0; // track the number of fights the user has lost
	var hero =  -1; // track the character chosen as the hero
	var defender =  -1; // track the character chosen as the active enemy
	var heroHP = 0; // track the number of HP the hero has remaining
	var defenderHP = 0; // track the number of HP the defender has remaining
	var totalVictory = 0; // track whether user acheives total victory
	var forceUse = 0; // track whether the user has already used the force
	var forceOn = false; // track whether the force is in use
	var updateText = ''; // track the update text for the message bar
	var attackStrength = 0; // track the power of the attack
	var retaliationStrength = 0; // track the power of the retaliation
	var instructionTitle = 'Choose your hero!'; // create placeholder fonr instruction title e.g. "Choose Your Hero"
	var battleRecord = []; // create empty array which will eventually hold objects detailing completed battles
	var enemies = []; // keep track of all of the enemies faced
	var moveLineupNow = false; // has hero been selected and it is time to move the character selection lineup?
	var updateText = ''; // set user update text
	var heroVictory = 0; // Has the user won?
	var defenderVictory = 0; // Has the user lost?
	var usedCharacters = []; // Keep track of all characters used including hero
	var winner = -1;
	var loser = -1;
	var cheat = 0; // If set to true, it makes it much easier to win so you can see what happens on victory
	var vader = 0; // If set to true, game will load final combat against Vader


	// Characters Array
	var characters = [
	  {
	    name: "Obi-Wan Kenobi",
	    image: "assets/images/characters/kenobi.png", 
	    hp: 190,
	    motto: "Use the force, Luke!",
	    class: "kenobi",
	    selected: false,
	    hero: false
	  },

	  {
	    name: "Han Solo",
	    image: "assets/images/characters/solo.png", 
	    hp: 160,
	    motto: "Who's scruffy-looking?",
	    class: "solo",
	    selected: false,
	    hero: false
	  },

	  {
	    name: "Chewbacca",
	    image: "assets/images/characters/chewbacca.png", 
	    hp: 180,
	    motto: "Raaahrrhh!",
	    class: "chewbacca",
	    selected: false,
	    hero: false
	  },

	  {
	    name: "Princess Leia",
	    image: "assets/images/characters/leia.png", 
	    hp: 150,
	    motto: "Aren't you a little small for a stormtrooper?",
	    class: "leia",
	    selected: false,
	    hero: false
	  },

	  {
	    name: "Boba Fett",
	    image: "assets/images/characters/bobafett.png", 
	    hp: 170,
	    motto: "You're worth a lot of money to me.",
	    class: "bobafett",
	    selected: false,
	    hero: false
	  },

	  {
	    name: "Rey",
	    image: "assets/images/characters/rey.png", 
	    hp: 140,
	    motto: "You're part of the Rebellion?",
	    class: "rey",
	    selected: false,
	    hero: false
	  },

	  {
	    name: "Greedo",
	    image: "assets/images/characters/greedo.png", 
	    hp: 150,
	    motto: "Erg Num If Tus Ji Org!",
	    class: "greedo",
	    selected: false,
	    hero: false
	  },

	  {
	    name: "Lando Calrissian",
	    image: "assets/images/characters/lando.png", 
	    hp: 140,
	    motto: "Foul-mouthed Jerk",
	    class: "lando",
	    selected: false,
	    hero: false
	  },

	  {
	    name: "Stormtrooper",
	    image: "assets/images/characters/stormtrooper.png", 
	    hp: 150,
	    motto: "Hail to the Empire!",
	    class: "stormtrooper",
	    selected: false,
	    hero: false
	  },

	  {
	    name: "Yoda",
	    image: "assets/images/characters/yoda.png", 
	    hp: 190,
	    motto: "Do or do not; There is no try",
	    class: "yoda",
	    selected: false,
	    hero: false
	  },

	  {
	    name: "Darth Maul",
	    image: "assets/images/characters/darthmaul.png", 
	    hp: 190,
	    motto: "Surrender or Die!",
	    class: "darthmaul",
	    selected: false,
	    hero: false
	  },

	   {
	    name: "Bossk",
	    image: "assets/images/characters/bossk.png", 
	    hp: 160,
	    motto: "#$%@!",
	    class: "bossk",
	    selected: false,
	    hero: false
	  },

	  {
	    name: "Luke Skywalker",
	    image: "assets/images/characters/skywalker.png", 
	    hp: 200,
	    motto: "I am a Jedi Knight.",
	    class: "skywalker",
	    selected: false,
	    hero: false
	  },

	   {
	    name: "Mace Windu",
	    image: "assets/images/characters/windu.png", 
	    hp: 180,
	    motto: "I am a Jedi Knight.",
	    class: "windu",
	    selected: false,
	    hero: false
	  }






	]

	// Create Darth Vader
	var specialCharacter =  {
	    name: "Darth Vader",
	    image: "assets/images/characters/vader.png", 
	    hp: 200,
	    motto: "You can not possibly understand the power of the Dark Side.",
	    class: "vader",
	    selected: false,
	    hero: false
	  }

	// Change background image

	if (vader == true) {
		$('html').css({'background-image': 'url(assets/images/bg/vader3.png)'});
		$('html').css({'background-size': 'cover'});
		$('html').css({'min-height': '100%'});
	}

	else {
		$('html').css({'background-image': 'url(assets/images/bg/spacebattle.png)'});
		$('html').css({'background-size': 'cover'});
		$('html').css({'min-height': '100%'});	
	}
	
	</script>

</head>

<body>
<!-- Start Display -->

<!-- Display Header -->
<div id ="header-top">
	<div id="header-inner">	
		<div id="logo"><img src="assets/images/star-wars-logo.png" width="150px"></div>
		<!-- Display instructions -->
		<div id="instructions">

			<div id="instructionsContent">

			<h1>How to Play</h1>
				<ol>
					<li>Select your hero and your first opponent</li>
					<li><strong>Attack your opponent</strong> to reduce their Hit Points to 0 before they do the same to you</li>
					<li><strong>Use the Force</strong> when your back is against the wall. Be careful though: you can only use it once!</li>
					<li><strong>Defeat three enemies</strong> to win the game.</li>
				</ol>
			</div>
		</div>

		<div id="replay">
		<button class="replay-game action">Play Again</button>
		<button class="cheat action">Cheat</button>
		<button class="vader action">Vader</button>
		</div>
	</div>
</div>

<!-- Render Container -->
<div id="container">

<!-- Display Supplemental information -->
	<div id="supplemental"></div>

<!-- Display Main Content -->
	<div id="main-content">
		<div id="updateHolder"></div>
		<div id="battlefieldHolder"></div>
		<div id="lineup"></div>
	</div>	

</div>

<!-- Display Footer -->
<div id="footer">
	<p>&copy; 2016  <strong><a href="https://www.linkedin.com/in/ideabrothers">Andrew Carr</a></strong><br>
	Demo project for <a href="https://www.codingbootcamputaustin.com/">The Coding Boot Camp</a>  at UT Austin Center for Professional Education
	</p>
</div>

<script>

// If page is ready
$(document).ready(function(){

	// Event Handlers
	$('.replay-game').on('click', resetGame);
	$('.cheat').on('click', cheatOn);
	$('.vader').on('click', vader);

	//Display Cue
	instructionalDiv = document.createElement('h1');
	instructionalDiv.innerHTML = instructionTitle;
	$('#supplemental').html(instructionalDiv);

	function resetGame() {

	}

	function cheatOn() {
		cheat = 1;
	}

	// Enter the Vader

	function vader() {
		vader = true;
		$('html').css({'background-image': 'url(assets/images/bg/vader3.png)'});
		$('html').css({'background-size': 'cover'});
		$('html').css({'min-height': '100%'});

		$('#lineup').empty();
		$('#updateHolder').empty();
	}

	// Fight Darth Vader

	function faceVader() {
		
	}




	// Start next match n Battle
	function restartBattle() {

		// Reset the Hero's Hit Point total
		heroHP = characters[hero].hp;

		// Reset the defender so the user can select another opponent
		defender = -1;

		$('#battlefieldHolder').empty();

		// Change instructional Text 
				instructionTitle = "Choose your opponent!";
				instructionalDiv = document.createElement('h1');
				instructionalDiv.innerHTML = instructionTitle;
				$('#supplemental').html(instructionalDiv);

		// Redraw the Battlefield and Hero Avatar
		createBattlefield();
		// Draw the new Opponent Avatar
		showEnemy();

	}

	// Calculate Attack

	function calculateAttack() {

		// Determine random strength of blow
			if (cheat == 0) {
			attackStrength = Math.floor(Math.random() * (40-1)) + 4; 
			console.log("Attack Strength = " + attackStrength);
			}

			else {
			attackStrength = 40;
			}

			attackEnemy();
	}


	// Calculate Attack using the Force

	function useForce() {

		// Determine random strength of blow
			if (cheat == 0) {
			attackStrength = Math.floor(Math.random() * (70-1)) + 30; 
			console.log("Attack Strength = " + attackStrength);
			}

			else {
			attackStrength = 80;
			}

			forceUse = 1;
			forceOn = true;

			// Create Action Buttons without Force button
			$('.buttons').empty();

			buttonsDiv = document.createElement('div');
			$(buttonsDiv).attr('class', 'buttons');
			attackButton = document.createElement('button');
			$(attackButton).addClass('attack');
			attackButton.innerHTML = "Attack!";
			$(buttonsDiv).append(attackButton);

			$('.buttons').html(buttonsDiv);

			// Did the user attack?
			$('.attack').on('click', calculateAttack);

			attackEnemy();
	}

	// Calculate Retaliation Strength

	function calculateRetaliation() {

			// Determine random strength of blow
			if (cheat == 0) {
			retaliationStrength = Math.floor(Math.random() * (40-1)) + 4; 
			console.log("Retaliation Strength = " + retaliationStrength);
			}

			else {
			retaliationStrength = 20;
			}
	}
	
	// Write Retaliation

	function retaliation() {

		if (heroHP > 0) {

			calculateRetaliation();
			$('.heroDamage').html(retaliationStrength);
		}

		// Hero is dead
		else if (heroHP <= 0) {

			heroHP = 0;
			retaliationStrength = '';
			$('.heroDamage').html(retaliationStrength);

			updateText = characters[defender].name + " is the winner!";
			updateDiv = document.createElement('div');
				updateDiv.setAttribute('class', 'wit');
				updateDiv.setAttribute('id', 'updates');
				updateDiv.innerHTML = updateText;
				$('#updateHolder').html(updateDiv);

			winner = defender;
			loser = hero;
			losses++;

			showWinner()
		}

		// Recheck status of defender after the consequence of the attack

		// Hero is still alive, but injured. Show injury
		if (heroHP > 0) {

			heroHP = heroHP-retaliationStrength;

			if (heroHP <= 0) {
				heroHP = 0;

				$(".heroHP").text(heroHP);
				defenderVictory = 1;
				// write a function for Hero Victory to run here
				losses++;

				// Change Update Text
				updateText = characters[defender].name + " is the winner!";
				updateDiv = document.createElement('div');
				updateDiv.setAttribute('class', 'wit');
				updateDiv.setAttribute('id', 'updates');
				updateDiv.innerHTML = updateText;
				$('#updateHolder').html(updateDiv);

				// Empty out the defeated opponent's information
				$('.heroImage').empty();
				$('.hero').empty();
	
				// Record hero's victory in Battle Record
				battleRecord.push(defender);	

				// Record winner and loser
				winner = defender;
				loser = hero;

				showWinner()
			}

			$(".heroHP").animate({fontSize: "60px"}, "fast").animate({opacity: 0.50}, "fast");
			$(".heroDamage").animate({opacity: 1.00}, "normal").animate({fontSize: "20px"}, "fast").animate({opacity: 0.00}, "normal");
			$(".heroHP").animate({opacity: 1.00}, "fast").animate({fontSize: "64px"}, "fast");
			$(".heroHP").text(heroHP);
		}

		// Hero is dead
		else if (heroHP <= 0) {
			heroHP = 0;
			$(".heroHP").text(heroHP);
			defenderVictory = 1;
			losses++;
			// write a function for Defender Victory to run here

				updateText = characters[defender].name + " is the winner!";
				updateDiv = document.createElement('div');
				updateDiv.setAttribute('class', 'wit');
				updateDiv.setAttribute('id', 'updates');
				updateDiv.innerHTML = updateText;
				$('#updateHolder').html(updateDiv);

				winner = defender;
				loser = hero;

				showWinner()
		}

	}

	// Write 'attack' function
	function attackEnemy() {
		console.log(cheat);

		// Determine the strength of the attack
		if (defenderHP > 0) {
			// Determine random strength of blow

			$('.damage').html(attackStrength);

		}

		// No attack possible because the defender is dead
		else if (defenderHP <= 0) {
			attackStrength = '';
			$('.damage').html(attackStrength);
		}

		// Recheck status of defender after the consequence of the attack

		// Defender is still alive, but injured. Show injury
		if (defenderHP > 0) {

			defenderHP = defenderHP-attackStrength;

			if (defenderHP <= 0) {
				defenderHP = 0;

				$(".defenderHP").text(defenderHP);
				heroVictory = 1;
				// write a function for Hero Victory to run here
				wins++;

				// Change Update Text
				updateText = characters[hero].name + " is the winner!";
				updateDiv = document.createElement('div');
				updateDiv.setAttribute('class', 'wit');
				updateDiv.setAttribute('id', 'updates');
				updateDiv.innerHTML = updateText;
				$('#updateHolder').html(updateDiv);

				// Empty out the defeated opponent's information
				$('.defenderImage').empty();
				$('.defender').empty();
	
				// Record hero's victory in Battle Record
				battleRecord.push(defender);	

				// Record winner and loser
				winner = hero;
				loser = defender;

				// Empty Defender so they can select a new opponent
				defender = -1;

				showWinner()
			}

			$(".defenderHP").animate({fontSize: "60px"}, "fast").animate({opacity: 0.50}, "fast");
			$(".damage").animate({opacity: 1.00}, "normal").animate({fontSize: "20px"}, "fast").animate({opacity: 0.00}, "normal");
			$(".defenderHP").animate({opacity: 1.00}, "fast").animate({fontSize: "64px"}, "fast");
			$(".defenderHP").text(defenderHP);
		}

		// The defender is dead
		else if (defenderHP <= 0) {
			defenderHP = 0;
			$(".defenderHP").text(defenderHP);
			heroVictory = 1;
			wins++;
			// write a function for Hero Victory to run here

			// Change Update Text
				updateText = characters[hero].name + " is the winner!";
				updateDiv = document.createElement('div');
				updateDiv.setAttribute('class', 'wit');
				updateDiv.setAttribute('id', 'updates');
				updateDiv.innerHTML = updateText;
				$('#updateHolder').html(updateDiv);

				// Empty out the defeated opponent's information
				$('.defenderImage').empty();
				$('.defender').empty();
	
				// Record hero's victory in Battle Record
				battleRecord.push(defender);
				usedCharacters.push(defender);

				// Record winner and loser 
				winner = hero;
				loser = defender;

				showWinner()
		}

		// If Opponent is still alive, retaliate!
		if (defenderHP > 0) {
			retaliation();
		}

	}

	
	// choose characters
	function selectCharacter() {

		$('.character').click(function() {
			// which character did they select?
			character = $(this).attr('id');
			console.log(character);

			// is this character a hero or an opponent?
			if (hero < 0) {

				hero = character;
				// update the characters that have already been selected so they cant be selected again
				usedCharacters.push(character);

				$('#' + hero).animate({opacity: 0.00});

				characters[hero].hero = true;

				// Change instructional Text 

				heroDiv = document.createElement('span');
				heroDiv.setAttribute('class', 'white');
				$(heroDiv).html(characters[hero].name);

				// Create Winner Rendering
				winnerDiv = document.createElement('div');
				$(winnerDiv).addClass('winner');
				
				// Update Notification Text
				instructionalDiv = document.createElement('h1');
				heroDiv = document.createElement('span');
				heroDiv.setAttribute('class', 'white');
				$(heroDiv).text(characters[hero].name);
				$(instructionalDiv).html("Your Hero is ");
				$(instructionalDiv).append(heroDiv);
				$(instructionalDiv).append(". Choose your opponent!");
				$('#supplemental').html(instructionalDiv);

				// Change Update Text
				updateText = characters[hero].motto;
				updateDiv = document.createElement('div');
				updateDiv.setAttribute('class', 'wit');
				updateDiv.setAttribute('id', 'updates');
				updateDiv.innerHTML = updateText;
				$('#updateHolder').html(updateDiv);

				// Move Lineup
				if (moveLineupNow === false){
					moveLineup();
					moveLineupNow = true;
				}
			}

			else if (hero >= 0 && defender < 0) {

				// If the user has won less than three battles, but not lost, choose another opponent
				if (wins < 3 && losses <= 0) {  

					if ($.inArray(character, usedCharacters) < 0) {

						restartBattle();
						console.log("restart")

						defender = character;

						usedCharacters.push(character);

						$('#' + defender).animate({opacity: 0.20});

						// Change instructional Text 
						instructionalDiv = document.createElement('h1');
						heroDiv = document.createElement('span');
						heroDiv.setAttribute('class', 'white');
						$(heroDiv).text(characters[defender].name);
						$(instructionalDiv).html("Your Opponent is ");
						$(instructionalDiv).append(heroDiv);
						$(instructionalDiv).append(". Fight!");
						$('#supplemental').html(instructionalDiv);


				 		// Change Update Text
				 		updateText = characters[defender].motto;
						updateDiv = document.createElement('div');
						updateDiv.setAttribute('class', 'wit');
						updateDiv.setAttribute('id', 'updates');
						updateDiv.innerHTML = updateText;
						$('#updateHolder').html(updateDiv);

				 		showEnemy();
				 	}

			 	}

			 	// If the user has won three battles, get ready to face Vader
			 	else if (wins == 3 && losses <= 0) {

			 	}

			 	// If the user loses a match, let them know
			 	else if (losses > 0) {

			 	}
			 	
			}

			else {

			}

		});
	}

	// Create initial lineup
	function createLineup() {

		lineupDiv = document.createElement('div');
		$(lineupDiv).addClass('lineup');

		for (i=0; i < characters.length; i++) {

			charDiv = document.createElement('div');
			$(charDiv).addClass('character');
			$(charDiv).attr('id', i);

				if (characters[i].selected == true) {

					if (characters[i].hero == true) {

						$(charDiv).addClass('hidden');

					}

					else {

					$(charDiv).addClass('faded');
					}

				}

			charImg = document.createElement('IMG');
			charImg.setAttribute('src', characters[i].image);
			//charImg.setAttribute('class', characters[i].class);
			charName = document.createElement('h2');
			$(charName).text(characters[i].name);
			charHP = document.createElement('h3');
			$(charHP).text(characters[i].hp + " HP");

			// fill the character div
			$(charDiv).append(charImg);
			$(charDiv).append(charName);
			$(charDiv).append(charHP);

			$(lineupDiv).append(charDiv);
		}
		$('#lineup').append(lineupDiv);
	}

	// create battlefield and render hero
	function createBattlefield() {

		// Draw Battlefield
		battlefieldDiv = document.createElement('div');
		$(battlefieldDiv).attr("id","battlefield");
		
		// Create Hero Rendering
		heroDiv = document.createElement('div');
		$(heroDiv).addClass('hero battle');

		charName = document.createElement('h3');
		$(charName).text(characters[hero].name);

		hpLabel = document.createElement('h2');
		$(hpLabel).text("HP");

		heroDamage = document.createElement('h4');
		$(heroDamage).attr('class', 'heroDamage');

		charHP = document.createElement('h1');
		$(charHP).attr('class', 'heroHP');
		$(charHP).text(characters[hero].hp);

		$(heroDiv).append(charName);
		$(heroDiv).append(hpLabel);
		$(heroDiv).append(heroDamage);
		$(heroDiv).append(charHP);
		
		// Create Hero Image
		heroImgDiv = document.createElement('div');
		$(heroImgDiv).attr('class', 'character');
		heroImg = document.createElement('IMG');
		$(heroImg).attr('src', characters[hero].image);
		$(heroImgDiv).append(heroImg);	

		// Create Action Bottons
		buttonsDiv = document.createElement('div');
		$(buttonsDiv).attr('class', 'buttons');
		attackButton = document.createElement('button');
		$(attackButton).addClass('attack');
		attackButton.innerHTML = "Attack!";
		forceButton = document.createElement('button');
		$(forceButton).addClass('force');
		forceButton.innerHTML = "Use the Force!";
		$(buttonsDiv).append(attackButton);
		$(buttonsDiv).append(forceButton);

		$(heroDiv).append(buttonsDiv);

		// Create VS Block
		vsDiv = document.createElement('div');
		$(vsDiv).addClass('vs');
		vsLabel = document.createElement('h4');
		$(vsLabel).addClass('vsH');

		vsLabel.innerHTML = "VS";
		$(vsDiv).html(vsLabel);

		// Fill battlefield with Hero
		$(battlefieldDiv).append(heroDiv);
		$(battlefieldDiv).append(heroImgDiv);
		$(battlefieldDiv).append(vsDiv);


		heroHP = characters[hero].hp;
		
		$('#battlefieldHolder').append(battlefieldDiv);

	}

	// Show Enemy

	function showEnemy() {

		if (defender >= 0) {


			// Create Defender Image
			defenderImgDiv = document.createElement('div');
			$(defenderImgDiv).attr('class', 'character defenderImage');
			defenderImg = document.createElement('IMG');
			$(defenderImg).attr('src', characters[defender].image);
			$(defenderImgDiv).html(defenderImg);

			// Create Defender Rendering
			defenderDiv = document.createElement('div');
			$(defenderDiv).addClass('defender battle');
			
			defenderName = document.createElement('h3');
			$(defenderName).text(characters[defender].name);

			hpLabel = document.createElement('h2');
			$(hpLabel).text("HP");

			defenderDamage = document.createElement('h4');
			$(defenderDamage).attr('class', 'damage');

			defenderHP = document.createElement('h1');
			$(defenderHP).attr('class', 'defenderHP');
			$(defenderHP).text(characters[defender].hp);

			$(defenderDiv).append(defenderName);
			$(defenderDiv).append(hpLabel);
			$(defenderDiv).append(defenderHP);
			$(defenderDiv).append(defenderDamage);

			$('#battlefield').append(defenderImgDiv);
			$('#battlefield').append(defenderDiv);

			defenderHP = characters[defender].hp;

			// Did the user attack?
			$('.attack').on('click', calculateAttack);

			// Did the user use the force?
			$('.force').on('click', useForce);
		}

	}

	// Show Winner

	function showWinner() {

		if (winner >= 0 && loser >=0) {

			$('#battlefield').empty();

			// Draw Battlefield
			battlefieldDiv = document.createElement('div');
			$(battlefieldDiv).attr("id","battlefield");

			// Create Winner Image
			winnerImgDiv = document.createElement('div');
			$(winnerImgDiv).attr('class', 'winnerImage');
			winnerImg = document.createElement('IMG');
			$(winnerImg).attr('src', characters[winner].image);
			$(winnerImgDiv).html(winnerImg);

			// Create Winner Rendering
			winnerDiv = document.createElement('div');
			$(winnerDiv).addClass('winner');

			// Change instructional Text 

			instructionalDiv = document.createElement('h1');
			winningDiv = document.createElement('span');
			winningDiv.setAttribute('class', 'white');
			loserDiv = document.createElement('span');
			loserDiv.setAttribute('class', 'white');
			$(winningDiv).text(characters[winner].name);
			$(loserDiv).text(characters[loser].name);
			$(instructionalDiv).html(winningDiv);
			$(instructionalDiv).append(" defeated ");
			$(instructionalDiv).append(loserDiv);
			$('#supplemental').html(instructionalDiv);

			// Play Again
			playAgainDiv = document.createElement('div');
			$(playAgainDiv).attr('class', 'playAgain');

			if (losses == 0 && (wins > 0 && wins < 3)) {
				$(playAgainDiv).html("Choose Your Next Opponent!")

			}

			else if (losses == 0 && wins ==3) {
				$(playAgainDiv).attr('class', 'vaderText');
				$(playAgainDiv).html("The Force is strong with this one. Prepare to DIE!")

				playOnDiv = document.createElement('div');
				$(playOnDiv).attr('class', 'playOn');
				faceVaderButton = document.createElement('button');
				$(faceVaderButton).addClass('faceVaderClass');
				faceVaderButton.innerHTML = "Face Vader";
				$(playOnDiv).append(faceVaderButton);

				vader();
			}

			else if (losses == 0 && totalVictory == 1) {
				$(playAgainDiv).html("You have defeated the Empire! The Galaxy is safe again!")

			}

			else if (losses >= 1) {
				$(playAgainDiv).html("The Rebellion has been crushed. You are not worthy.")

			}

			$('#battlefield').append(winnerDiv);
			$('#battlefield').append(winnerImgDiv);
			$('#battlefield').append(playAgainDiv);
			$('#battlefield').append(playOnDiv);
			
			console.log("Wins: " + wins);
		}

	}


	// Move the character lineup down to make room for the battlefield
	function moveLineup() {
		$("#lineup").animate({top:"+=300px"}, "normal", function() {
			createBattlefield();
		}).animate({top:"-=300px"}, "fast");
	}

	// Render character lineup for choice
	createLineup();

	// Did the user select a character?
	if (hero < 0 || defender < 0 ) {
	 	$('.character').click(selectCharacter() );
	 }

	// Did the user attack?
	//$('.attack').on('click', attackEnemy);

	// Did the user use the force?
	//$('.attack').on('click', useForce);

});
</script>

</body>
</html>